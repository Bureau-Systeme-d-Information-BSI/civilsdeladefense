.form-control, .custom-select, .custom-select.is-valid, .form-control.is-valid {
  outline: none !important;
  border: solid 0px white;
  border-bottom: solid 1px white;
  // TODO @include box-shadow($bmd-shadow-2dp);
  &:focus {
    outline: none !important;
    border: solid 0px white;
    border-bottom: solid 1px $primary;
    // TODO @include box-shadow($bmd-shadow-3dp);
  }
}

.trix-editor-wrapper {
  @extend .form-control;
  height: auto;
  padding: 0;
}

trix-toolbar {
  background-color: white;
  border-bottom: $border-width-normal solid $card-border-color;
  padding: 0.375rem 0.75rem;
  .trix-button-group {
    @extend .btn-group;
    border: 0;
    border-radius: 0;
    margin: 0;
    &:not(:first-child) {
      border-left: $border-width-normal solid $card-border-color;
      margin-left: 1vw;
      padding-left: 1vw;
    }
  }
  .trix-button {
    @extend .btn, .btn-secondary;
    &:not(:first-child) {
      border-left: 0;
      margin-left: 0.35rem !important;
    }
  }
  .trix-button--icon {
    width: 2em;
    height: 2em;
  }
}

trix-editor {
  border: 0;
  border-radius: 0;
  padding: 0.75rem;
}

.trix-button--icon-align-left::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/></svg>');
}

.trix-button--icon-align-center::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-center" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/></svg>');
}
.trix-button--icon-align-right::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/></svg>');
}
.trix-button--icon-align-justify::before {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-justify" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/></svg>');
}

.form-control.is-invalid, .custom-select.is-invalid {
  outline: none !important;
  border: solid 0px white;
  border-bottom: solid 1px $danger;
  // TODO @include box-shadow($bmd-shadow-2dp);
  &:focus {
    outline: none !important;
    border: solid 0px white;
    border-bottom: solid 1px $danger;
    // TODO @include box-shadow($bmd-shadow-3dp);
  }
}

.form-control:disabled, .form-control[readonly], .custom-select:disabled {
  border-bottom: solid 1px $disabled-gray;
  background-color: $disabled-gray;
  cursor: not-allowed;

  &.default-cursor {
    cursor: default !important;
  }
}

.filter {
  .input-group-text {
    padding-top: ($spacer * .75);
    padding-bottom: ($spacer * .75);
  }
  input {
    border-color: transparent;
  }
  svg {
    height: auto;
  }
  .input-group-prepend {
    width: 2.5rem;
  }
  input {
    width: calc(100% - 2.5rem);
  }
}

.input-search {
  @extend .filter;
  // TODO @include box-shadow($bmd-shadow-2dp);
  border-bottom: solid 1px transparent;
  &.is-focused {
    outline: none !important;
    border-bottom: solid 1px $primary !important;
    > input {
      outline: none !important;
    }
  }
}

form {
  &.filters {
    // TODO @include box-shadow($bmd-shadow-2dp);
    .input-search {
      box-shadow: none;
    }
    select {
      @extend .form-control, .custom-select;
      box-shadow: none;
      width: 100% !important;
    }
    .is-focused select, select:focus, select:active {
      border-bottom: 0;
      box-shadow: none;
    }
  }
}

.custom-file-label {
  line-height: 1.25;
  &::after {
    height: calc(2.25rem - 4px);
    line-height: 1.25;
  }
}

legend {
  color: $dark-gray;
  font-weight: 900;
}

label {
  font-weight: 500;
}

.invalid-feedback {
  &:first-letter {
    text-transform: capitalize;
  }
}

.form-inputs {
  &:not(.options) {
    .form-group {
      &.radio_buttons {
        .form-check {
          label {
            @extend .mt-2;
          }
        }
      }
    }
  }
}

.form-group {
  &.radio_buttons:not(.preferred_user_preferred_users_list) {
    .form-check {
      @extend .mr-0, .ml-5;
      &:first-of-type {
        @extend .ml-3;
      }
      input {
        display: none;
        &:checked + label {
          color: $primary;
          font-weight: 500;
          box-shadow: inset 0 -2px $primary;
        }
      }
      label {
        @extend .mb-0;
      }
    }
    > .form-check:first-child {
      @extend .ml-2;
    }
  }
  &.preferred_user_preferred_users_list {
    @extend .mb-0, .py-2, .px-2, .d-flex, .flex-column;
    legend {
      @extend .pb-0, .pt-2;
      abbr {
        display: none;
      }
    }
    .form-check {
      input {
        @extend .mr-1;
        display: unset;
      }
    }
  }
}

.form-group {
  &.check_boxes {
    legend {
      @extend .mb-2;
    }
    .form-check {
      @extend .pl-2;
    }
  }
}

.dropdown-menu {
  .new_preferred_user {
    min-width: 14rem;
  }
}

.flatpickr-input {
  &[readonly] {
    cursor: initial;
  }
}

.form-check-label {
  @extend .ml-1;
}
