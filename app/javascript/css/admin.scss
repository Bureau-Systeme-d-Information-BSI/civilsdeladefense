@import 'common';
@import 'devise';
@import 'board';
@import '~bootstrap-material-design/scss/dropdown';
@import '~bootstrap-material-design/scss/dropdown';
@import '~bootstrap-material-design/scss/extensions/snackbarjs';

$card-spacer-x-normal: 1rem;

nav.navbar {
  & + aside + .bg-secondary {
    height: 50px;
    background-color: $secondary;
    @extend .py-0;
    a {
      color: white;
      &:hover {
        text-decoration: none;
      }
      svg {
        fill: white;
      }
    }
    .navbar-text {
      line-height: 50px;
      @extend .py-0;
    }
    .nav-item {
      .nav-link {
        color: rgba(255, 255, 255, 0.6);
        text-transform: uppercase;
        font-weight: 500;
        transition: color 0.2s $bmd-animation-curve-default;
        will-change: color, transform;
        line-height: 50px;
        @extend .px-4, .py-0;
      }
      &:active, &.active, &:hover {
        .nav-link {
          color: white;
        }
      }
      &.active {
        box-shadow: inset 0 -2px white;
      }
    }
    & + .bg-quaternary {
      height: 85px;
      background-color: $quaternary;
    }
  }
}

.card, .modal, .lists {
  .card {
    background-color: white;
    .card-footer {
      background-color: white;
    }
  }
}

.card, .modal, form, .lists {
  .card {
    .card-header, .card-subheader, .card-footer {
      padding: ($card-spacer-x-normal * 0.5) $card-spacer-x-normal;
    }
    .card-body {
      padding: $card-spacer-x-normal $card-spacer-x-normal;
    }
  }
}

.card {
  > table {
    > tbody {
      > tr {
        > th, > td {
          &:first-child {
            padding-left: $card-spacer-x;
          }
          &:last-child {
            padding-right: $card-spacer-x;
          }
        }
      }
    }
  }
}

body {
  @extend .pb-5;
  margin-top: 50px;
}

ul {
  &.actions {
    > li {
      @extend .mr-3;
      &:last-child {
        @extend .mr-0;
      }
      > a {
        // @extend .font-weight-bold;
        color: $body-color;
        outline: 0;
        svg {
          fill: $body-color;
          @extend .mr-1;
        }
        &:hover, &:focus, &.active {
          text-decoration: none;
          color: $primary;
          svg {
            fill: $primary;
          }
        }
      }
    }
  }
}

.list-group {
  &.stepper {
    .list-group-item {
      color: #cdcdcd;
      font-size: 80%;
      &.active {
        color: black;
        font-weight: 500;
        background-color: $card-bg;
        border-left: 4px solid $primary;
        .badge {
          &.badge-pill {
            color: $primary;
            border-color: $primary;
          }
        }
      }
      .badge {
        &.badge-pill {
          border-radius: 50%;
          line-height: 1.2rem;
          height: 1.2rem;
          padding: 0 0.4rem;
          border: 1px solid #cdcdcd;
        }
      }
    }
  }
}

.card-deck {
  display: flex;
  flex-flow: row wrap;
  margin-right: -15px;
  margin-left: -15px;
  .job-application {
    background-color: white;
    margin-right: 15px;
    margin-left: 15px;
    @include media-breakpoint-up(sm) {
      flex: 0 0 calc(100%);
    }
    @include media-breakpoint-up(md) {
      flex: 0 0 calc(100%/4 - 30px);
    }
    @include media-breakpoint-up(xl) {
      flex: 0 0 calc(100%/5 - 30px);
    }
  }
}

.card {
  &.card-state-draft,
  &.card-state-draft .card-footer,
  &.card-state-archived,
  &.card-state-archived .card-footer {
    background-color: rgba($card-border-color, 0.1);
    background-image: repeating-linear-gradient(45deg, transparent, transparent 15px, rgba(255,255,255,.3) 15px, rgba(255,255,255,.3) 30px);
  }
  &.job-application {
    .card-body, .card-footer {
      padding: $card-spacer-x-normal * 0.75;
    }
    .card-header {
      color: $body-color-variation;
      border-bottom: 0;
      padding: ($card-spacer-x-normal * 0.25) ($card-spacer-x-normal * 0.75);
    }
    .card-body {
      background-color: white;
      strong {
        color: rgba(0, 0, 0, 0.87);
        font-weight: $font-weight-bold;
      }
      a {
        outline: 0;
        &:hover, &:focus {
          text-decoration: none;
        }
      }
    }
  }
}

.bg-card-bg {
  background-color: $card-bg;
}

.bg-body-bg {
  background-color: $body-bg;
}

.badge-counter {
  @extend .badge, .rounded-circle, .px-0, .py-0, .font-weight-bold;
  font-size: 100%;
  width: 2rem;
  height: 2rem;
  line-height: 2rem;
  &:hover {
    text-decoration: none;
  }
}

.show {
  .dropdown-toggle {
    &.btn {
      &.btn-primary {
        background-color: $primary !important;
      }
    }
  }
}

.dropdown-menu {
  @include box-shadow($bmd-shadow-2dp);
  .dropdown-item {
    @include button-size($btn-padding-y, $btn-padding-x, $font-size-base, $btn-line-height, $btn-border-radius);
    padding-top: $btn-padding-y;
    padding-bottom: $btn-padding-y;
    padding-left: $btn-padding-x;
    padding-right: $btn-padding-x;
    min-height: unset;
  }
}

.dropdown-item {
  &.disabled, &:disabled {
    color: $text-muted;
    cursor: not-allowed;
    background-color: transparent;
  }
}

.ck.ck-content {
  min-height: 300px;
  max-height: 500px;
}

#message_body {
  height: 110px;
}

#email_body {
  height: 200px;
}

.tab-pane {
  > .card, > * > .card {
    @extend .mt-4;
    &:first-child {
      @extend .mt-0;
    }
  }
}
