%h1.h4.mt-5.mb-3= t('.title')
%strong.text-quaternary.d-block= t('.title_per_gender')
.pl-3.mt-2
  - total = @per_gender.values.sum
  - @per_gender.each_with_index do |(k, v), index|
    .d-flex.align-items-center.mb-2
      .bar-chart__category_name
        - if k.present?
          - val = PersonalProfile.genders.key(k)
          = PersonalProfile.human_attribute_name("gender/#{val}")
        - else
          = t('unknown')
      .bar-chart__category_percentage
        - percentage = (v * 100.0) / total
        = "#{percentage.to_i }%"
      .flex-grow-1
        .bar-chart__bar{style: "width: #{percentage}%;"}
- if show_stats_debug?
  %code= @per_gender
%strong.text-quaternary.d-block.mt-4= t('.title_per_nationality')
.pl-3.mt-2
  - total = @per_nationality.values.sum
  - @per_nationality.each_with_index do |(k, v), index|
    .d-flex.align-items-center.mb-2
      .bar-chart__category_name
        = k.present? ? k : t('unknown')
      .bar-chart__category_percentage
        - percentage = (v * 100.0) / total
        = "#{percentage.to_i }%"
      .flex-grow-1
        .bar-chart__bar{style: "width: #{percentage}%;"}
- if show_stats_debug?
  %code= @per_nationality
