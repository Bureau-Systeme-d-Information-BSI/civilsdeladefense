.list-group.stepper
  - if can?(:read, Administrator) || can?(:read, Page)
    .list-group-item.menu
      = t(".admin")

    - if can? :read, Administrator
      - entry = 'administrators'
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == entry
      = link_to [:admin, :settings, entry.to_sym], class: klasses do
        = t(".#{ entry }")

    - if can? :read, Organization
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == 'organizations' && controller.action_name == 'edit_security'
      = link_to [:edit_security, :admin, :settings, :organization], class: klasses do
        = t(".organization_security")

    - if can? :read, Page
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == 'pages'
      = link_to [:admin, :settings, :pages], class: klasses do
        = t(".pages")

  - if can?(:read, Organization) || can?(:read, OrganizationDefault) || can?(:read, Page)
    .list-group-item.menu
      = t(".configuration")

    - if can? :read, Organization
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == 'organizations' && controller.action_name == 'edit'
      = link_to [:edit, :admin, :settings, :organization], class: klasses do
        = t(".organization")

    - if can? :read, FrequentlyAskedQuestion
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == 'frequently_asked_questions'
      = link_to [:admin, :settings, :frequently_asked_questions], class: klasses do
        = t(".frequently_asked_questions")

    - if can? :read, UserMenuLink
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == 'user_menu_links'
      = link_to [:admin, :settings, :user_menu_links], class: klasses do
        = t(".user_menu_links")

  .list-group-item.menu
    = t(".job_applications")

  .list-group.stepper
    - if can? :read, RejectionReason
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "rejection_reasons"
      = link_to [:admin, :settings, :rejection_reasons], class: klasses do
        = t(".rejection_reasons")

    - if can? :read, ArchivingReason
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "archiving_reasons"
      = link_to [:admin, :settings, :archiving_reasons], class: klasses do
        = t(".archiving_reasons")

    - if can? :read, Employer
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "employers"
      = link_to [:admin, :settings, :employers], class: klasses do
        = t(".employers")

    - if can? :read, Cmg
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "cmgs"
      = link_to [:admin, :settings, :cmgs], class: klasses do
        = t(".cmgs")

    - if can? :read, JobApplicationFileType
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "job_application_file_types"
      = link_to [:admin, :settings, :job_application_file_types], class: klasses do
        = t(".job_application_file_types")

    - if can? :read, JobOfferTerm
      - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
      - klasses << 'active' if controller.controller_name == "job_offer_terms"
      = link_to [:admin, :settings, :job_offer_terms], class: klasses do
        = t(".job_offer_terms")

  - entries = JobOffer::SETTINGS.map{|x| x.to_s.pluralize.to_sym}
  - entries += %i[availability_ranges benefits drawbacks bops salary_ranges contract_durations foreign_languages foreign_language_levels]
  - if entries.any?{ |entry| can?(:manage, entry.to_s.singularize.classify.constantize) }
    .list-group-item.menu
      = t(".writing_job_offers")

    .list-group.stepper
      - if can? :read, EmailTemplate
        - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
        - klasses << 'active' if controller.controller_name == "email_templates"
        = link_to [:admin, :settings, :email_templates], class: klasses do
          = t(".email_templates")

      - if can? :read, OrganizationDefault
        - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
        - klasses << 'active' if controller.controller_name == 'organization_defaults'
        = link_to [:admin, :settings, :organization_defaults], class: klasses do
          = t(".organization_defaults")

      - entries.each do |entry|
        - if can? :read, entry.to_s.singularize.classify.constantize
          - klasses = %w(list-group-item d-flex justify-content-between align-items-center)
          - klasses << 'active' if controller.controller_name == entry.to_s
          = link_to [:admin, :settings, entry], class: klasses do
            = t(".#{ entry }")
