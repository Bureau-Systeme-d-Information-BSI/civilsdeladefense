- resource_class = User
- provider = :france_connect

- resource_name = resource_class.name.underscore.to_sym
- devise_mapping = Devise.mappings[resource_name]

- show_or = true if show_or.nil?

- if devise_mapping.omniauthable? && resource_class.omniauth_providers.include?(provider)
  .text-center
    %p FranceConnect est la solution proposée par l’État pour sécuriser et simplifier la connexion à vos services en ligne
    .fr-connect-group.fr-my-2w
      = button_to user_france_connect_omniauth_authorize_path, class: "fr-btn fr-connect fr-mx-auto", "data-turbo": false do
        %span.fr-connect__login
          S’identifier avec
        %span.fr-connect__brand FranceConnect
      .france-connect-details.fr-mt-2w
        = link_to "Qu’est-ce que FranceConnect ?", "https://franceconnect.gouv.fr/", title: "Qu'est-ce que FranceConnect ?", target: "_blank"
  - if show_or
    .fr-h2.fr-my-3w.text-center ou
