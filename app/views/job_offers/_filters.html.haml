.fr-sidemenu.fr-sidemenu--sticky-full-height
  = form_tag(request.original_url, method: :get, "data-turbo-frame" => 'job-offers') do
    .fr-input-group
      = text_field_tag :q, params[:q], placeholder: 'Mot-cl√©', class: 'fr-input'
    %ul.fr-sidemenu__list
      = render 'filter_categories', collection: @categories
      = render 'filter_regions', collection: @regions
      = render 'filter', collection: @contract_types, kind: :contract_type
      = render 'filter', collection: @study_levels, kind: :study_level
      = render 'filter', collection: @experience_levels, kind: :experience_level

    - pattern = "(?:((?:0[1-9]|1[0-9]|2[0-9])\/(?:0[1-9]|1[0-2])|(?:30)\/(?!02)(?:0[1-9]|1[0-2])|31\/(?:0[13578]|1[02]))\/(?:19|20)[0-9]{2})"
    .fr-input-group
      = label_tag :contract_start_on, t(".contract_start_on_filter"), class: 'fr-label'
      = date_field_tag :contract_start_on, @contract_start_on, class: 'fr-input', placeholder: 'JJ/MM/AAAA', pattern: pattern
    .fr-input-group
      = label_tag :published_at, t(".published_at_filter"), class: 'fr-label'
      = date_field_tag :published_at, @published_at, class: 'fr-input', placeholder: 'JJ/MM/AAAA', pattern: pattern, max: Date.today.strftime('%F')
    .text-center.fr-my-1w
      = submit_tag t('.search'), class: 'fr-btn'
